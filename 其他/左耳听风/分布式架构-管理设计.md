#

## 2020-01-08

### 分布式锁

在多线程情况下访问一些共享资源需要加锁，不然就会出现数据被写乱的问题。
在分布式系统下，也是一样的。只不过，需要一个分布式的锁服务。对于分布式的锁服务，一般可以用数据库 DB、Redis 和 ZooKeeper 等实现。且具备以下特点:

* 安全性（Safety）：在任意时刻，只有一个客户端可以获得锁（排他性）。
* 避免死锁：客户端最终一定可以获得锁，即使锁住某个资源的客户端在释放锁之前崩溃或者网络不可达。
* 容错性：只要锁服务集群中的大部分节点存活，Client 就可以进行加锁解锁操作。Redis 的分布式锁服务

## 2020-01-10

### 配置中心

### 配置中心的设计

* 按运行环境分。一般来说，会有开发环境、测试环境、预发环境、生产环境。这些环境上的运行配置都不完全一样，但是理论来说，应该是大同小异的。
* 按依赖区分。一种是依赖配置，一种是不依赖的内部配置。比如，外部依赖的 MySQL 或 Redis 的连接配置。还有一种完全是自己内部的配置。
* 按层次分。就像云计算一样，配置也可以分成 IaaS、PaaS、SaaS 三层。基础层的配置是操作系统的配置，中间平台层的配置是中间件的配置，如 Tomcat 的配置，上层软件层的配置是应用自己的配置。
